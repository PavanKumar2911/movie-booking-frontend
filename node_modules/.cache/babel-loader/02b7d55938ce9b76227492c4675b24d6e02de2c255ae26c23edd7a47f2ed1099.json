{"ast":null,"code":"/* eslint-disable no-unused-vars */import react,{useState,useEffect}from\"react\";import{useLocation}from\"react-router-dom\";import axios from\"axios\";import Nav from\"./Nav\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function PreviousBookings(){const[users,setUsers]=useState([]);const location=useLocation();const name=location.state.name;const mail=location.state.mail;const[filteredUsers,setFilteredUsers]=useState([]);useEffect(()=>{axios.get(\"https://ticketbooking-backend-6152.onrender.com/api/auth\").then(response=>{const data=response.data.data;if(Array.isArray(data)){setUsers(data);const filtered=data.filter(user=>user.name===name&&user.mail===mail);setFilteredUsers(filtered);}else{console.error(\"Data fetched is not an array:\",data);}}).catch(err=>console.log(err));// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Nav,{}),/*#__PURE__*/_jsx(\"div\",{className:\"prevbook\",children:/*#__PURE__*/_jsx(\"h3\",{children:\"Previous Bookings\"})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"prevtable\",children:filteredUsers&&filteredUsers.map(data=>/*#__PURE__*/_jsxs(\"div\",{className:\"prevbookdata\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"img\",{className:\"prevbookdataimg\",src:\"https://image.tmdb.org/t/p/w300/\"+data.photo,alt:\"\"})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"table\",{className:\"prevbookdetails\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"h3\",{style:{textTransform:\"uppercase\",fontWeight:\"bolder\"},children:/*#__PURE__*/_jsx(\"strong\",{children:data.title})})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"td\",{children:[data.date,\" | \",data.time]})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"td\",{children:[data.theater,\" | \",data.city]})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"td\",{children:[\"Tickets = \",data.count]})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"td\",{children:[\"Cost = \",data.cost]})})]})})]},data.id))})})]});}export default PreviousBookings;","map":{"version":3,"names":["react","useState","useEffect","useLocation","axios","Nav","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","PreviousBookings","users","setUsers","location","name","state","mail","filteredUsers","setFilteredUsers","get","then","response","data","Array","isArray","filtered","filter","user","console","error","catch","err","log","children","className","map","src","photo","alt","style","textTransform","fontWeight","title","date","time","theater","city","count","cost","id"],"sources":["C:/Users/91901/ticket/src/components/PreviousBookings.jsx"],"sourcesContent":["/* eslint-disable no-unused-vars */\r\nimport react, { useState, useEffect } from \"react\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport Nav from \"./Nav\"\r\nfunction PreviousBookings() {\r\n  const [users, setUsers] = useState([]);\r\n  const location = useLocation();\r\n  const name = location.state.name;\r\n  const mail = location.state.mail;\r\n\r\n  const [filteredUsers, setFilteredUsers] = useState([]);\r\n  useEffect(() => {\r\n    axios\r\n      .get(\"https://ticketbooking-backend-6152.onrender.com/api/auth\")\r\n      .then((response) => {\r\n        const data = response.data.data;\r\n\r\n        if (Array.isArray(data)) {\r\n          setUsers(data);\r\n\r\n          const filtered = data.filter(\r\n            (user) => user.name === name && user.mail === mail\r\n          );\r\n          setFilteredUsers(filtered);\r\n        } else {\r\n          console.error(\"Data fetched is not an array:\", data);\r\n        }\r\n      })\r\n      .catch((err) => console.log(err));\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n \r\n  return (\r\n    <>\r\n      <Nav />\r\n      <div className=\"prevbook\">\r\n        <h3>Previous Bookings</h3>\r\n      </div>\r\n      <div>\r\n        <div className=\"prevtable\">\r\n          {filteredUsers &&\r\n            filteredUsers.map((data) => (\r\n              <div key={data.id} className=\"prevbookdata\">\r\n                <div>\r\n                  <img\r\n                    className=\"prevbookdataimg\"\r\n                    src={`https://image.tmdb.org/t/p/w300/` + data.photo}\r\n                    alt=\"\"\r\n                  ></img>\r\n                </div>\r\n                <td>\r\n                  <table className=\"prevbookdetails\">\r\n                    <div>\r\n                      <h3\r\n                        style={{\r\n                          textTransform: \"uppercase\",\r\n                          fontWeight: \"bolder\",\r\n                        }}\r\n                      >\r\n                        <strong>{data.title}</strong>\r\n                      </h3>\r\n                    </div>\r\n                    <div>\r\n                      <td>\r\n                        {data.date} | {data.time}\r\n                      </td>\r\n                    </div>\r\n                    <div>\r\n                      <td>\r\n                        {data.theater} | {data.city}\r\n                      </td>\r\n                    </div>\r\n                    <div>\r\n                      <td>Tickets = {data.count}</td>\r\n                    </div>\r\n                    <div>\r\n                      <td>Cost = {data.cost}</td>\r\n                    </div>\r\n                  </table>\r\n                </td>\r\n              </div>\r\n            ))}\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\nexport default PreviousBookings;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}