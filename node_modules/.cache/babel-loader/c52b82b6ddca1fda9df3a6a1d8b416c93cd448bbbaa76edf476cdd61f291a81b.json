{"ast":null,"code":"import _slicedToArray from\"C:/Users/91901/ticket/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";/* eslint-disable no-unused-vars */import react,{useState,useEffect}from\"react\";import{useLocation}from\"react-router-dom\";import axios from\"axios\";import Nav from\"./Nav\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function PreviousBookings(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),users=_useState2[0],setUsers=_useState2[1];var location=useLocation();var name=location.state.name;var mail=location.state.mail;var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),filteredUsers=_useState4[0],setFilteredUsers=_useState4[1];useEffect(function(){axios.get(\"https://ticketbooking-backend-6152.onrender.com/api/auth\").then(function(response){var data=response.data.data;if(Array.isArray(data)){setUsers(data);var filtered=data.filter(function(user){return user.name===name&&user.mail===mail;});setFilteredUsers(filtered);}else{console.error(\"Data fetched is not an array:\",data);}}).catch(function(err){return console.log(err);});// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Nav,{}),/*#__PURE__*/_jsx(\"div\",{className:\"prevbook\",children:/*#__PURE__*/_jsx(\"h3\",{children:\"Previous Bookings\"})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"prevtable\",children:filteredUsers&&filteredUsers.map(function(data){return/*#__PURE__*/_jsxs(\"div\",{className:\"prevbookdata\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"img\",{className:\"prevbookdataimg\",src:\"https://image.tmdb.org/t/p/w300/\"+data.photo,alt:\"\"})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"table\",{className:\"prevbookdetails\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"h3\",{style:{textTransform:\"uppercase\",fontWeight:\"bolder\"},children:/*#__PURE__*/_jsx(\"strong\",{children:data.title})})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"td\",{children:[data.date,\" | \",data.time]})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"td\",{children:[data.theater,\" | \",data.city]})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"td\",{children:[\"Tickets = \",data.count]})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"td\",{children:[\"Cost = \",data.cost]})})]})})]},data.id);})})})]});}export default PreviousBookings;","map":{"version":3,"names":["react","useState","useEffect","useLocation","axios","Nav","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","PreviousBookings","_useState","_useState2","_slicedToArray","users","setUsers","location","name","state","mail","_useState3","_useState4","filteredUsers","setFilteredUsers","get","then","response","data","Array","isArray","filtered","filter","user","console","error","catch","err","log","children","className","map","src","photo","alt","style","textTransform","fontWeight","title","date","time","theater","city","count","cost","id"],"sources":["C:/Users/91901/ticket/src/components/PreviousBookings.jsx"],"sourcesContent":["/* eslint-disable no-unused-vars */\r\nimport react, { useState, useEffect } from \"react\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport Nav from \"./Nav\"\r\nfunction PreviousBookings() {\r\n  const [users, setUsers] = useState([]);\r\n  const location = useLocation();\r\n  const name = location.state.name;\r\n  const mail = location.state.mail;\r\n\r\n  const [filteredUsers, setFilteredUsers] = useState([]);\r\n  useEffect(() => {\r\n    axios\r\n      .get(\"https://ticketbooking-backend-6152.onrender.com/api/auth\")\r\n      .then((response) => {\r\n        const data = response.data.data;\r\n\r\n        if (Array.isArray(data)) {\r\n          setUsers(data);\r\n\r\n          const filtered = data.filter(\r\n            (user) => user.name === name && user.mail === mail\r\n          );\r\n          setFilteredUsers(filtered);\r\n        } else {\r\n          console.error(\"Data fetched is not an array:\", data);\r\n        }\r\n      })\r\n      .catch((err) => console.log(err));\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n \r\n  return (\r\n    <>\r\n      <Nav />\r\n      <div className=\"prevbook\">\r\n        <h3>Previous Bookings</h3>\r\n      </div>\r\n      <div>\r\n        <div className=\"prevtable\">\r\n          {filteredUsers &&\r\n            filteredUsers.map((data) => (\r\n              <div key={data.id} className=\"prevbookdata\">\r\n                <div>\r\n                  <img\r\n                    className=\"prevbookdataimg\"\r\n                    src={`https://image.tmdb.org/t/p/w300/` + data.photo}\r\n                    alt=\"\"\r\n                  ></img>\r\n                </div>\r\n                <td>\r\n                  <table className=\"prevbookdetails\">\r\n                    <div>\r\n                      <h3\r\n                        style={{\r\n                          textTransform: \"uppercase\",\r\n                          fontWeight: \"bolder\",\r\n                        }}\r\n                      >\r\n                        <strong>{data.title}</strong>\r\n                      </h3>\r\n                    </div>\r\n                    <div>\r\n                      <td>\r\n                        {data.date} | {data.time}\r\n                      </td>\r\n                    </div>\r\n                    <div>\r\n                      <td>\r\n                        {data.theater} | {data.city}\r\n                      </td>\r\n                    </div>\r\n                    <div>\r\n                      <td>Tickets = {data.count}</td>\r\n                    </div>\r\n                    <div>\r\n                      <td>Cost = {data.cost}</td>\r\n                    </div>\r\n                  </table>\r\n                </td>\r\n              </div>\r\n            ))}\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\nexport default PreviousBookings;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}